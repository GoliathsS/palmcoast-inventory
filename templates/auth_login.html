<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Palm Coast • Sign in</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="color-scheme" content="light">
  <style>
    :root{
      --bg:#f7f7f9;          /* page */
      --panel:#ffffff;        /* card */
      --border:#e6e7eb;       /* lines */
      --text:#0b1220;         /* primary text */
      --muted:#6b7280;        /* secondary text */
      --brand:#0ea5e9;        /* accent */
      --brand-2:#10b981;      /* accent blend */
      --radius:16px;
      --shadow:0 8px 24px rgba(17,24,39,.08), 0 2px 6px rgba(17,24,39,.06);
      --ring:0 0 0 4px rgba(14,165,233,.15);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial;
      background: var(--bg);
      color: var(--text);
      display:grid; place-items:center;
    }
    .wrap{width:min(960px,94vw); margin:auto; display:grid; grid-template-columns: 1fr; gap:28px; align-items:center}

    /* Brand header */
    .brand{position:fixed; top:24px; left:28px; display:flex; align-items:center; gap:10px; color:#111827; font-weight:800; letter-spacing:.2px}
    .brand img{height:24px; width:auto; display:block}
    .brand .dot{ width:10px; height:10px; background:#ef4444; border-radius:50% }

    /* Card */
    .card{
      width:min(460px, 94vw);
      background:var(--panel);
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:28px 26px 24px;
    }
    .heading{margin:0 0 6px; font-size:1.6rem; letter-spacing:-.01em}
    .sub{margin:0 0 18px; color:var(--muted); font-size:.98rem}

    label{display:block; font-size:.9rem; margin:0 0 6px; color:#374151}
    .field{ position:relative; margin:0 0 14px }
    input{ width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--border); background:#fff; color:var(--text); outline:none; transition:border .16s ease, box-shadow .16s ease }
    input::placeholder{ color:#9aa3af }
    input:focus{ border-color:#b7c2cf; box-shadow: var(--ring) }
    input[aria-invalid="true"]{ border-color:#ef4444; box-shadow: 0 0 0 4px rgba(239,68,68,.12) }

    .row{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin:2px 0 4px }
    .row .link{ font-size:.9rem; color:#2563eb; text-decoration:none }
    .row .link:hover{ text-decoration:underline }

    .btn{ margin-top:10px; width:100%; appearance:none; border:none; cursor:pointer; padding:13px 16px; border-radius:12px; color:white; font-weight:700; letter-spacing:.2px; background: linear-gradient(90deg, var(--brand), var(--brand-2)); box-shadow: 0 10px 24px rgba(16,185,129,.22); transition: transform .05s ease, filter .15s ease }
    .btn:active{ transform: translateY(1px) }
    .btn[disabled]{ opacity:.7; cursor:not-allowed }

    .error{ margin:0 0 12px; padding:10px 12px; border-radius:12px; background:#fee2e2; color:#991b1b; border:1px solid #fecaca; font-size:.92rem }
    .footer{ margin-top:12px; text-align:center; color:var(--muted); font-size:.88rem }

    .divider{ display:flex; align-items:center; gap:12px; margin:14px 0 }
    .divider::before,.divider::after{ content:""; flex:1; height:1px; background:var(--border) }

    /* Simple responsive */
    @media (min-width: 900px){ .wrap{ grid-template-columns: .9fr 1.1fr } .hero{display:block} }
    .hero{ display:none }
    .hero-art{ width:100%; max-width:520px; aspect-ratio: 4/3; border-radius: 22px; background:#fff; border:1px solid var(--border); box-shadow: var(--shadow); display:grid; place-items:center }
    .hero-art .logo{ height:42px; opacity:.9 }

    /* Utility */
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0 }
  </style>
</head>
<body>
  <div class="brand" aria-label="Palm Coast Inventory">
    <span class="dot" aria-hidden="true"></span>
    Palm Coast Inventory
    <!-- Optional logo: uncomment the next line if you want the brand image -->
    <!-- <img src="{{ url_for('static', filename='LOGO.jpg') }}" alt="Palm Coast" /> -->
  </div>

  <div class="wrap">
    <div class="hero" aria-hidden="true">
      <div class="hero-art">
        <!-- If you want a large logo or illustration here, swap the placeholder -->
        <!-- <img class="logo" src="{{ url_for('static', filename='LOGO.jpg') }}" alt="Palm Coast"/> -->
        <svg class="logo" viewBox="0 0 24 24" fill="none" stroke="#0ea5e9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12h18"/><path d="M3 6h18"/><path d="M3 18h18"/></svg>
      </div>
    </div>

    <main class="card" role="main" aria-labelledby="heading">
      <h1 id="heading" class="heading">Sign in</h1>
      <p class="sub">Welcome back. Please use your work credentials to continue.</p>

      {% if error %}
        <div class="error" role="alert">{{ error }}</div>
      {% endif %}

      <form method="POST" action="{{ url_for('login') }}" autocomplete="on" novalidate id="loginForm">
        {% if csrf_token %} <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"> {% endif %}

        <div class="field">
          <label for="email">Email</label>
          <input id="email" name="email" type="email" required autocomplete="username" inputmode="email" placeholder="you@palmcoast.com" aria-describedby="emailHelp">
          <div id="emailHelp" class="sr-only">Enter your work email address.</div>
        </div>

        <div class="field">
          <label for="password">Password</label>
          <input id="password" name="password" type="password" required autocomplete="current-password" minlength="6" aria-describedby="pwdHelp">
          <div id="pwdHelp" class="sr-only">Minimum 6 characters.</div>
        </div>

        <div class="row">
          <label style="display:flex; align-items:center; gap:8px; font-size:.95rem; color:#374151">
            <input type="checkbox" name="remember" value="1" style="accent-color:#0ea5e9; width:16px; height:16px"> Remember me
          </label>
          <a href="#" class="link" tabindex="0">Forgot password?</a>
        </div>

        <button class="btn" id="submitBtn" type="submit">Sign in</button>
        <div class="footer">Need access? Contact an administrator.</div>
      </form>
    </main>
  </div>

  <script>
    (function(){
      const form = document.getElementById('loginForm');
      const submitBtn = document.getElementById('submitBtn');
      const email = document.getElementById('email');
      const pwd = document.getElementById('password');

      function markValidity(el){ el.setAttribute('aria-invalid', el.validity.valid ? 'false' : 'true'); }
      ['input','blur'].forEach(ev => { email.addEventListener(ev, () => markValidity(email)); pwd.addEventListener(ev, () => markValidity(pwd)); });

      form?.addEventListener('submit', function(){
        submitBtn.disabled = true;
        const orig = submitBtn.textContent;
        submitBtn.textContent = 'Signing in…';
        submitBtn.insertAdjacentHTML('afterbegin', '<span aria-hidden="true" style="display:inline-block; width:14px; height:14px; margin-right:8px; border:2px solid rgba(255,255,255,.35); border-top-color:#fff; border-radius:50%; animation: spin .7s linear infinite"></span>');
        const style = document.createElement('style'); style.innerHTML='@keyframes spin{to{transform:rotate(360deg)}}'; document.head.appendChild(style);
        setTimeout(()=>{ submitBtn.disabled=false; submitBtn.textContent = orig; }, 12000);
      });

      setTimeout(() => email?.focus({preventScroll:true}), 200);
    })();
  </script>
</body>
</html>
